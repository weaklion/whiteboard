# π¨ Collaborative Whiteboard

μ‹¤μ‹κ°„ ν‘μ—… ν™”μ΄νΈλ³΄λ“ μ• ν”λ¦¬μΌ€μ΄μ… (Monorepo)

## π“¦ ν”„λ΅μ νΈ κµ¬μ΅°

```
whiteboard/
β”β”€β”€ client/              # React ν΄λΌμ΄μ–ΈνΈ
β”‚   β”β”€β”€ src/
β”‚   β””β”€β”€ package.json
β”β”€β”€ server/              # Express + Socket.IO μ„λ²„
β”‚   β”β”€β”€ src/
β”‚   β””β”€β”€ package.json
β”β”€β”€ package.json         # λ£¨νΈ (μ‹¤ν–‰ κ΄€λ¦¬)
β””β”€β”€ pnpm-workspace.yaml  # pnpm μ›ν¬μ¤νμ΄μ¤ μ„¤μ •
```

## π€ λΉ λ¥Έ μ‹μ‘

### 1. μμ΅΄μ„± μ„¤μΉ

```bash
pnpm install
```

**μ΄ λ…λ Ήμ–΄ ν•λ‚λ΅:**
- β… λ£¨νΈ μμ΅΄μ„± μ„¤μΉ (concurrently λ“±)
- β… ν΄λΌμ΄μ–ΈνΈ μμ΅΄μ„± μ„¤μΉ
- β… μ„λ²„ μμ΅΄μ„± μ„¤μΉ

### 2. κ°λ° μ„λ²„ μ‹¤ν–‰

```bash
# π ν΄λΌμ΄μ–ΈνΈ + μ„λ²„ λ™μ‹ μ‹¤ν–‰ (μ¶”μ²)
pnpm dev

# λλ” κ°λ³„ μ‹¤ν–‰
pnpm dev:client   # ν΄λΌμ΄μ–ΈνΈλ§
pnpm dev:server   # μ„λ²„λ§
```

**μ‹¤ν–‰ κ²°κ³Ό:**
- π ν΄λΌμ΄μ–ΈνΈ: http://localhost:5173
- π” μ„λ²„: http://localhost:3000

## β¨ μ£Όμ” κΈ°λ¥

- β… μ‹¤μ‹κ°„ λ‹¤μ¤‘ μ‚¬μ©μ ν‘μ—…
- β… λΈλ¬μ‹/μ§€μ°κ°/ν…μ¤νΈ λ„κµ¬
- β… URL κΈ°λ° λ°© κ³µμ (μ§„ν–‰μ¤‘)
- β… Undo/Redo κΈ°λ¥
- β… Shape λ³€ν• λ° λ“λκ·Έ
- β… μ‹¤μ‹κ°„ μ μ € μ ν‘μ‹

## π“ μ‚¬μ© κ°€λ¥ν• μ¤ν¬λ¦½νΈ

```bash
# κ°λ°
pnpm dev              # ν΄λΌμ΄μ–ΈνΈ + μ„λ²„ λ™μ‹ μ‹¤ν–‰
pnpm dev:client       # ν΄λΌμ΄μ–ΈνΈλ§ μ‹¤ν–‰
pnpm dev:server       # μ„λ²„λ§ μ‹¤ν–‰

# λΉλ“
pnpm build            # μ „μ²΄ λΉλ“
pnpm build:client     # ν΄λΌμ΄μ–ΈνΈ λΉλ“
pnpm build:server     # μ„λ²„ λΉλ“

# μ„¤μΉ
pnpm install          # λ¨λ“  μμ΅΄μ„± μ„¤μΉ (λ£¨νΈ, client, server)
```

## π› οΈ κΈ°μ  μ¤νƒ

### ν΄λΌμ΄μ–ΈνΈ
- React 19
- TypeScript
- Konva / React-Konva (μΊ”λ²„μ¤)
- Zustand (μƒνƒ κ΄€λ¦¬)
- Socket.IO Client
- Vite
- Tailwind CSS + DaisyUI
- Lucide React (μ•„μ΄μ½)
- Nanoid (ID μƒμ„±)

### μ„λ²„
- Node.js
- Express
- Socket.IO
- TypeScript

### κ°λ° λ„κµ¬
- pnpm (ν¨ν‚¤μ§€ κ΄€λ¦¬μ)
- pnpm workspaces (λ¨λ…Έλ ν¬)

## π“ κµ¬ν„ μƒμ„Έ (Implementation Details)

### 1. μ„  (Line)
- **λ°μ΄ν„° κµ¬μ΅°**: `ShapeLine` μΈν„°νμ΄μ¤(`points`, `stroke`, `strokeWidth` λ“±)λ¥Ό μ‚¬μ©ν•μ—¬ κ΄€λ¦¬ν•©λ‹λ‹¤.
- **λ λ”λ§**: `react-konva`μ `Line` μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•μ—¬ μΊ”λ²„μ¤μ— κ·Έλ¦½λ‹λ‹¤.
- **λ΅μ§**: `useCanvasDrawing` ν›…μ„ ν†µν•΄ λ§μ°μ¤ μ΄λ²¤νΈλ¥Ό κ°μ§€ν•©λ‹λ‹¤. λ“λκ·Έ μ¤‘μ—λ” `DraftStore`μ— μ„μ‹ λ°μ΄ν„°λ¥Ό μ €μ¥ν•μ—¬ λΉ λ¥Έ λ°μ‘μ„±μ„ ν™•λ³΄ν•κ³ , λ“λκ·Έκ°€ λλ‚λ©΄ `ShapeStore`μ— μ €μ¥ λ° `socket`μ„ ν†µν•΄ μ„λ²„λ΅ μ „μ†΅ν•©λ‹λ‹¤.

### 2. ν…μ¤νΈ (Text)
- **λ°μ΄ν„° κµ¬μ΅°**: `ShapeText` μΈν„°νμ΄μ¤(`x`, `y`, `value`, `fontSize` λ“±)λ¥Ό μ‚¬μ©ν•μ—¬ κ΄€λ¦¬ν•©λ‹λ‹¤.
- **λ λ”λ§**: `TextShape` μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©°, λ‚΄λ¶€μ μΌλ΅ `EditableText`λ¥Ό ν†µν•΄ νΈμ§‘ κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.
- **λ΅μ§**: ν…μ¤νΈ λ„κµ¬ μ„ νƒ ν›„ ν΄λ¦­ μ‹ μƒμ„±λ©λ‹λ‹¤. `Html` μ»΄ν¬λ„νΈ(react-konva-utils)λ¥Ό ν™μ©ν•κ±°λ‚ HTML overlay λ°©μ‹μ„ μ‚¬μ©ν•μ—¬ μΊ”λ²„μ¤ μ„μ—μ„ μ§μ ‘ νƒ€μ΄ν•‘μ΄ κ°€λ¥ν•λ„λ΅ κµ¬ν„λμ–΄ μμµλ‹λ‹¤.

### 3. μ„ νƒ (Selection)
- **λ°μ΄ν„° κµ¬μ΅°**: `SelectionStore`λ¥Ό ν†µν•΄ μ„ νƒλ λ„ν•λ“¤μ ID λ°°μ—΄(`selectedIds`)μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.
- **λ λ”λ§**: μ„ νƒλ λ„ν• μ£Όμ„μ— `Konva.Transformer`λ¥Ό λ¶€μ°©ν•μ—¬ ν¬κΈ° μ΅°μ  λ° νμ „ ν•Έλ“¤μ„ ν‘μ‹ν•©λ‹λ‹¤.
- **λ΅μ§**: `useCanvasSelection` ν›…μ΄ λ‹΄λ‹Ήν•©λ‹λ‹¤.
    - **ν΄λ¦­ μ„ νƒ**: λ‹¨μΌ λ„ν• μ„ νƒ λλ” Shift/Ctrl ν‚¤λ¥Ό μ΄μ©ν• λ‹¤μ¤‘ μ„ νƒ.
    - **λ“λκ·Έ μ„ νƒ**: λ§μ°μ¤ λ“λκ·Έλ΅ μ‚¬κ°ν• μμ—­μ„ λ§λ“¤κ³ , `Konva.Util.haveIntersection`μ„ μ‚¬μ©ν•μ—¬ ν•΄λ‹Ή μμ—­ κµμ°¨ν•λ” λ¨λ“  λ„ν•μ„ μ„ νƒν•©λ‹λ‹¤.


## π§ ν–¥ν›„ κ³„ν

- [ ] Shape μ—…λ°μ΄νΈ λ™κΈ°ν™” (λ“λκ·Έ, λ³€ν•)
- [ ] μ§€μ°κ° κΈ°λ¥ κ°μ„  (Layer ν•©μ„± λ°©μ‹)
- [ ] μƒ‰μƒ/λ‘κ» μ„ νƒ UI
- [ ] κ³µν†µ νƒ€μ… ν¨ν‚¤μ§€ λ¶„λ¦¬

## π“„ λΌμ΄μ„ μ¤

MIT
